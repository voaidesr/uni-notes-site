---
{"dg-publish":true,"permalink":"/courses/probabilitati-statistica/curs/c3-ps/"}
---


# Probabilități condiționate

## *Exemplu* 1

Pentru un examen, Andrei învață 1 capitol din 14. Examenul se desfășoară astfel: Mihai alege aleator o întrebare din cele 14 capitole, cu 5 variante de răspuns, din care doar una singură corectă: 

- Probabilitatea ca Andrei să răspundă corect, știind că alege la întâmplare o variantă de răspuns în caz că nimerește un capitol pe care nu l-a învățat.

$S$ = Andrei știe să răspundă la întrebarea din capitolul aleator 

$\mathbb{P}(S) = \frac{1}{14}$

$C$ = Andrei răspunde corect. $\mathbb{P}(C)$ = ?

Avem 

$$
\mathbb{P}(C\,|\,S) = 1 = \frac{\mathbb{P}(C \cap S)}{\mathbb{P}(S)} \qquad \mathbb{P}(C\,|\,S^{C}) = \frac{1}{5} = \frac{\mathbb{P}(C \cap S^C)}{\mathbb{P}(S^C)}
$$

Deci 

$$
\begin{aligned}
\mathbb{P}(C) &= \mathbb{P}((C \cap S) \cup (C \cap S^C)) \\ 
\\&= \mathbb{P}(C \,|\, S) \mathbb{P}(S) + \mathbb{P}(C \,|\, S^C) \mathbb{P}(S^C) \\
\\&= 1 \frac{1}{14} + \frac{1}{5} \frac{13}{14} = \frac{18}{70} = 0.257 = 25.7\%
\end{aligned}
$$
- Mihai vede că Andrei a bifat corect și se întreabă care este probabilitatea ca Andrei să nu fi știut răspunsul, dar să îl fi ghicit. 

Probabilitatea este $\mathbb{P}(S^C \,|\, C)$ .

$$
\begin{aligned}
\mathbb{P}(S^C \,|\, C) &= \frac{\mathbb{P}(S^C \cap C)}{\mathbb{P}(C)} \\ 
\\&= \frac{\mathbb{P}(C \,|\, S^C) \cdot \mathbb{P}(S^C)}{\mathbb{P}(C)} \\
\\&= \frac{1}{5} \cdot \frac{\frac{13}{14}}{\frac{9}{35}} = \frac{13}{18} = 0.72 = 72 \%
\end{aligned}
$$
### Observații 

1. Pentru $A, B \in \mathcal{F}$, $B$ și $B^C$ formează o partiție a lui $\Omega$. 
$$
\begin{aligned}

\mathbb{P}(A) &= \mathbb{P}((A \cap B) \cup (A \cap B^C)) = \mathbb{P}(A \cap B) + \mathbb{P}(A \cap B^C) \\
\\ &= \mathbb{P}(A \,|\, B) \cdot \mathbb{P}(B) + \mathbb{P}(A \,|\, B^C) \cdot \mathbb{P}(B^C)
\end{aligned}
$$
2. Generalizare 

$$
B_1, B_{2}, \dots, B_{n} \in \mathcal{F} \text{ partitie } \Omega \quad \bigcup_{i = 1}^n B_{i} = \Omega \text{ si } B_{i} \cap B_{j} = \emptyset, \; \forall i \neq j
$$
Avem:
$$
\mathbb{P}(A) = \sum_{i=1}^n \mathbb{P}(A \,|\, B_{i}) \cdot \mathbb{P}(B_{i})
$$
3. Formula lui Bayes 

$$
\mathbb{P}(B \,|\, A) = \frac{\mathbb{P}(B \cap A)}{\mathbb{P}(A)} = \mathbb{P}(A \,|\, B) \cdot \frac{\mathbb{P}(B)}{\mathbb{P}(A)}
$$
## *Exemplu 2*

 În Iunie 2020, se estimează că $0.1 \%$ din populație avea COVID. Un test rapid antigen are următoarele caracteristici: 
- din 100 de bolnavi testați, 98 sunt depistați pozitivi \[Sensibilitatea testului\]. 
- din 100 de oameni sănătoși testați, 99 sunt depistați negativ \[Specificitatea testului \].

*Mă testez și ies pozitiv. Care e probabilitatea să am covid?*

*Rezolvare*

- $B$ = Am COVID. Probabilitatea este $\mathbb{P}(B) = \frac{1}{1000}$
- $+$ = Testat pozitiv. 

$$
\mathbb{P}(B \,|\, +) = \;?
$$
Informațiile din enunț 

$$
\begin{aligned}
&1. \quad \mathbb{P}(+ \,|\, B) = \frac{98}{100}  \\
\\&2. \quad \mathbb{P}(+ \,|\, B^C) = \frac{1}{100}
\end{aligned}
$$
Aplicând formula lui Bayes: 

$$
\begin{aligned}
\mathbb{P}(B \,|\, +) &= \mathbb{P}(+ \,|\, B) \cdot \frac{\mathbb{P}(B)}{\mathbb{P}(+)} = \\
\\&= \frac{\mathbb{P}( + \,|\, B)\cdot\mathbb{P}(B)}{
\mathbb{P}(+ \,|\, B) \cdot \mathbb{P}(B) + \mathbb{P}(+ \,|\, B^C) \cdot \mathbb{P}(B^C) 
} = \\
\\&= \frac{\frac{98}{100}\cdot\frac{1}{1000}}{\frac{98}{100} \cdot \frac{1}{1000} + \frac{1}{100} \cdot \frac{999}{1000}} = \frac{98}{98 + 999} = \frac{98}{1097}
\end{aligned}
$$
Probabilitatea **a priori** este esențială pentru a calcula această probabilitate. Testul are doar scopul de a îmbunătăți probabilitatea față de cea a priori. 

*Ce se întâmplă dacă fac 2 teste?*

$+_{1}$ = primul test e pozitiv 

$+_{2}$ = al doilea test e pozitiv 

$$
\begin{aligned}
\mathbb{P}(B  \,|\, +_{1} +_{2}) = \mathbb{P}(+_{1}+_{2} \,|\, B) \cdot \frac{\mathbb{P}(B)}{\mathbb{P}(+_{1}+_{2})}
\end{aligned}
$$
>[!definition]
>$A$ și $B$ sunt independente condiționat de $C$ dacă 
>$$\mathbb{P}(A \,|\, B \cap C) = \mathbb{P}(A \,|\, C)$$

Putem rescrie 

$$
\mathbb{P}(A \,|\, B \cap C) = \frac{\mathbb{P}(A \cap B \,|\, C)}{\mathbb{P}(B\,|\,C)} \implies \mathbb{P}(A \cap B \,|\, C) = \mathbb{P}(A  \,|\, C) \cdot \mathbb{P}(B \,|\, C)
$$
Deci avem 

$$
+_{1} \perp \!\!\! \perp +_{2} \,|\, B \implies \mathbb{P}(+_{1}+_{2}\,|\,B) = \mathbb{P}(+_{1}\,|\,B) \cdot \mathbb{P}(+_{2}\,|\,B) = \left(\frac{98}{100} \right)^2
$$
Reluăm calculul 

$$
\begin{aligned}
\mathbb{P}(B \,|\, +_{1}+_{2}) &= \mathbb{P}(+_{1}+_{2}\,|\,B) \cdot \frac{\mathbb{P}(B)}{\mathbb{P}(+_{1}+_{2})} \\
\\&= \left( \frac{98}{100} \right)^2 \cdot \frac{1}{1000}  \cdot \\ &\frac{1}{\mathbb{P}(+_{1}+_{2}\,|\,B) \cdot \mathbb{P}(B) + \mathbb{P}(+_{1}+_{2}\,|\,B^C) \cdot \mathbb{P}(B^C)}\\
\\&= \frac{98^2}{98^2 + 999} = 90 \%
\end{aligned}
$$
La primul test, fiind foarte mulți oameni sănătoși, existau foarte multe *false positives*. Numărul scade mult mai rapid la mai multe teste